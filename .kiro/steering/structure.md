# Project Structure

## Root Files
- `index.html` - Main application entry point
- `package.json` - Dependencies and npm scripts
- `vitest.config.js` - Test configuration with coverage thresholds
- `eslint.config.js` - ESLint 9 flat configuration
- `jsdoc.json` - JSDoc documentation generation config
- `knip.json` - Dependency analysis configuration
- `.env.example` - Environment variable template

## Core Directories

### `/js/` - Application Source Code
**Entry Point:**
- `main.js` - Application initialization and module orchestration

**Core Modules:**
- `constants.js` - Centralized constants (IDs, messages, states, colors)
- `event-bus.js` - Central event management system
- `logger.js` - Centralized logging with module contexts

**Feature Modules:**
- `audio-handler.js` - MediaRecorder integration and audio processing
- `api-client.js` - Azure API communication (Whisper/GPT-4o)
- `settings.js` - Configuration management and persistence
- `ui.js` - DOM manipulation and user interface
- `visualization.js` - Audio waveform visualization
- `recording-state-machine.js` - Recording lifecycle state management
- `permission-manager.js` - Microphone permission handling
- `status-helper.js` - Status message management
- `error-handler.js` - Error handling and user feedback

### `/css/` - Styling
- `styles.css` - Main stylesheet with CSS custom properties for theming

### `/tests/` - Test Suite
- `setupTests.js` - Global test configuration
- `vitest-setup.js` - Vitest-specific setup
- `*.vitest.js` - Test files (Vitest naming convention)
- `/helpers/` - Test utilities and mocks

### `/docs/` - Generated Documentation
- Auto-generated JSDoc HTML documentation
- Updated via `npm run docs`

### `/coverage/` - Test Coverage Reports
- Generated by Vitest coverage runs
- HTML, LCOV, and JSON formats

### `/plan/` - Project Planning
- Feature specifications and implementation plans
- Architecture decision records

### `/spec/` - Design Specifications
- Technical design documents
- API specifications

## File Naming Conventions
- **JavaScript**: kebab-case (e.g., `audio-handler.js`)
- **Tests**: `*.vitest.js` suffix for Vitest files
- **Constants**: Centralized in `constants.js` with UPPER_CASE naming
- **Classes**: PascalCase (e.g., `AudioHandler`, `EventBus`)
- **DOM IDs**: Defined in `constants.js` ID object, kebab-case values

## Import/Export Patterns
- **ES6 Modules**: All files use `import/export`
- **Named Exports**: Preferred for utilities and constants
- **Default Exports**: Used for main classes
- **Centralized Constants**: Import from `constants.js` using destructuring

## Code Organization Rules
1. **Single Responsibility**: Each module handles one primary concern
2. **Event-Driven Communication**: Use EventBus for cross-module communication
3. **DOM ID Management**: All element IDs defined in `constants.js`
4. **Error Handling**: Centralized through `error-handler.js`
5. **Logging**: Use centralized logger with module-specific contexts
6. **State Management**: Recording state handled by state machine pattern